{% extends "base.html" %}

{% block content %}

	<div class="container">
		<h6>Права на выполнение действий</h6>
		<table class="table table-striped table-responsive-md">
			<caption>*Все означает "все зарегистрированные заявки", *Только свои означает "только заявки, для которых пользователь является инициатором"</caption>
			<thead>
				<tr>
					<th scope="col">Действия/Права</th>
					<th scope="col">Администратор</th>
					<th scope="col">Инициатор</th>
					<th scope="col">Валидатор</th>
					<th scope="col">Закупщик</th>
					<th scope="col">Наблюдатель</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th scope="row">Просмотр заявок</th>
					<td class="text-success">Все</td>
					<td class="text-warning">Только свои</td>
					<td class="text-success">Все</td>
					<td class="text-success">Все</td>
					<td class="text-success">Все</td>
				</tr>
				<tr>
					<th scope="row">Объединение заявок</th>
					<td class="text-success">Все</td>
					<td class="text-warning">Только свои</td>
					<td class="text-danger">Нет</td>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
				</tr>
				<tr>
					<th scope="row">Указать проект, объект и категории</th>
					<td class="text-success">Все</td>
					<td class="text-warning">Только свои</td>
					<td class="text-danger">Нет</td>
					<td class="text-warning">Только свои</td>
					<td class="text-danger">Нет</td>
				</tr>
				<tr>
					<th scope="row">Указать статьи БДР и БДДС</th>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
					<td class="text-danger">Нет</td>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
				</tr>
				<tr>
					<th scope="row">Оставить комментарий</th>
					<td class="text-success">Все</td>
					<td class="text-warning">Только свои</td>
					<td class="text-success">Все</td>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
				</tr>
				<tr>
					<th scope="row">Клонировать заявку</th>
					<td class="text-success">Все</td>
					<td class="text-warning">Только свои</td>
					<td class="text-danger">Нет</td>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
				</tr>
				<tr>
					<th scope="row">Уведомить согласующих</th>
					<td class="text-success">Все</td>
					<td class="text-warning">Только свои</td>
					<td class="text-danger">Нет</td>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
				</tr>
				<tr>
					<th scope="row">Отправить заявку поставщику</th>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
					<td class="text-danger">Нет</td>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
				</tr>
				<tr>
					<th scope="row">Выгрузить заявку в Excel</th>
					<td class="text-success">Все</td>
					<td class="text-warning">Только свои</td>
					<td class="text-success">Все</td>
					<td class="text-success">Все</td>
					<td class="text-success">Все</td>
				</tr>
				<tr>
					<th scope="row">Выгрузить заявку для 1С</th>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
					<td class="text-success">Все</td>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
				</tr>
				<tr>
					<th scope="row">Согласование заявки</th>
					<td class="text-danger">Нет</td>
					<td class="text-danger">Нет</td>
					<td class="text-success">Все</td>
					<td class="text-success">Все</td>
					<td class="text-danger">Нет</td>
				</tr>
				<tr>
					<th scope="row">Создать новую заявку</th>
					<td class="text-success">Разрешено</td>
					<td class="text-success">Разрешено</td>
					<td class="text-danger">Нет</td>
					<td class="text-success">Разрешено</td>
					<td class="text-danger">Нет</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="container">
		<h6>Ответственность по согласованию</h6>
		<table class="table table-striped table-responsive-md">
			<thead>
				<tr>
					<th scope="col">Роль</th>
					<th scope="col">Категории</th>
					<th scope="col">Проекты</th>
					<th scope="col">Пользователи</th>
				</tr>
			</thead>
			<tbody>
				{% for position in responsibilities %}
					<tr>
						<th scope="row">{{ position }}</th>
						<td>
							{% for category in responsibilities[position]['categories'] %}
								{{ category }}<br>
							{% endfor %}
						</td>
						<td>
							{% for project in responsibilities[position]['projects'] %}
								{{ project }}<br>
							{% endfor %}
						</td>
						<td>
							{% for user in responsibilities[position]['users'] %}
								{{ user.name }}({{user.email}})<br>
							{% endfor %}
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
{% endblock %}